import{o as tt,ap as nt,r as u,v as xe,w as Oe,x as we,y as De,l as me,p as pe,c as D,f as l,e as C,d as Ie,aq as Re,b as Te,_ as rt}from"./index-YqvpRoLU.js";import{a as te,f as at,s as it}from"./useState-9ZCG-J4D.js";function ot(e){return e instanceof HTMLElement||e instanceof SVGElement}function ut(e){return ot(e)?e:e instanceof tt.Component?nt.findDOMNode(e):null}var Ne=function(t){return+setTimeout(t,16)},Ue=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(Ne=function(t){return window.requestAnimationFrame(t)},Ue=function(t){return window.cancelAnimationFrame(t)});var Pe=0,Ee=new Map;function Ve(e){Ee.delete(e)}var ce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Pe+=1;var r=Pe;function a(o){if(o===0)Ve(r),t();else{var i=Ne(function(){a(o-1)});Ee.set(r,i)}}return a(n),r};ce.cancel=function(e){var t=Ee.get(e);return Ve(e),Ue(t)};var st=u.createContext({}),ct=function(e){xe(n,e);var t=Oe(n);function n(){return we(this,n),t.apply(this,arguments)}return De(n,[{key:"render",value:function(){return this.props.children}}]),n}(u.Component),$="none",X="appear",Y="enter",Z="leave",Le="none",M="prepare",z="start",H="active",Se="end",Fe="prepared";function ke(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function ft(e,t){var n={animationend:ke("Animation","AnimationEnd"),transitionend:ke("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var vt=ft(me(),typeof window<"u"?window:{}),je={};if(me()){var lt=document.createElement("div");je=lt.style}var ee={};function $e(e){if(ee[e])return ee[e];var t=vt[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in je)return ee[e]=t[o],ee[e]}return""}var Ke=$e("animationend"),Qe=$e("transitionend"),ze=!!(Ke&&Qe),Me=Ke||"animationend",_e=Qe||"transitionend";function be(e,t){if(!e)return null;if(pe(e)==="object"){var n=t.replace(/-\w/g,function(r){return r[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const dt=function(e){var t=u.useRef(),n=u.useRef(e);n.current=e;var r=u.useCallback(function(i){n.current(i)},[]);function a(i){i&&(i.removeEventListener(_e,r),i.removeEventListener(Me,r))}function o(i){t.current&&t.current!==i&&a(t.current),i&&i!==t.current&&(i.addEventListener(_e,r),i.addEventListener(Me,r),t.current=i)}return u.useEffect(function(){return function(){a(t.current)}},[]),[o,a]};var He=me()?u.useLayoutEffect:u.useEffect;const mt=function(){var e=u.useRef(null);function t(){ce.cancel(e.current)}function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var o=ce(function(){a<=1?r({isCanceled:function(){return o!==e.current}}):n(r,a-1)});e.current=o}return u.useEffect(function(){return function(){t()}},[]),[n,t]};var pt=[M,z,H,Se],Et=[M,Fe],We=!1,St=!0;function qe(e){return e===H||e===Se}const yt=function(e,t,n){var r=te(Le),a=D(r,2),o=a[0],i=a[1],c=mt(),E=D(c,2),s=E[0],f=E[1];function v(){i(M,!0)}var d=t?Et:pt;return He(function(){if(o!==Le&&o!==Se){var m=d.indexOf(o),S=d[m+1],P=n(o);P===We?i(S,!0):S&&s(function(_){function R(){_.isCanceled()||i(S,!0)}P===!0?R():Promise.resolve(P).then(R)})}},[e,o]),u.useEffect(function(){return function(){f()}},[]),[v,o]};function ht(e,t,n,r){var a=r.motionEnter,o=a===void 0?!0:a,i=r.motionAppear,c=i===void 0?!0:i,E=r.motionLeave,s=E===void 0?!0:E,f=r.motionDeadline,v=r.motionLeaveImmediately,d=r.onAppearPrepare,m=r.onEnterPrepare,S=r.onLeavePrepare,P=r.onAppearStart,_=r.onEnterStart,R=r.onLeaveStart,I=r.onAppearActive,N=r.onEnterActive,w=r.onLeaveActive,U=r.onAppearEnd,L=r.onEnterEnd,T=r.onLeaveEnd,O=r.onVisibleChanged,ne=te(),K=D(ne,2),k=K[0],V=K[1],g=te($),F=D(g,2),p=F[0],b=F[1],B=te(null),G=D(B,2),re=G[0],Q=G[1],ae=u.useRef(!1),ie=u.useRef(null);function J(){return n()}var ye=u.useRef(!1);function he(){b($,!0),Q(null,!0)}function ge(A){var y=J();if(!(A&&!A.deadline&&A.target!==y)){var h=ye.current,x;p===X&&h?x=U==null?void 0:U(y,A):p===Y&&h?x=L==null?void 0:L(y,A):p===Z&&h&&(x=T==null?void 0:T(y,A)),p!==$&&h&&x!==!1&&he()}}var Ge=dt(ge),Je=D(Ge,1),Xe=Je[0],Ae=function(y){var h,x,q;switch(y){case X:return h={},C(h,M,d),C(h,z,P),C(h,H,I),h;case Y:return x={},C(x,M,m),C(x,z,_),C(x,H,N),x;case Z:return q={},C(q,M,S),C(q,z,R),C(q,H,w),q;default:return{}}},W=u.useMemo(function(){return Ae(p)},[p]),Ye=yt(p,!e,function(A){if(A===M){var y=W[M];return y?y(J()):We}if(j in W){var h;Q(((h=W[j])===null||h===void 0?void 0:h.call(W,J(),null))||null)}return j===H&&(Xe(J()),f>0&&(clearTimeout(ie.current),ie.current=setTimeout(function(){ge({deadline:!0})},f))),j===Fe&&he(),St}),Ce=D(Ye,2),Ze=Ce[0],j=Ce[1],et=qe(j);ye.current=et,He(function(){V(t);var A=ae.current;ae.current=!0;var y;!A&&t&&c&&(y=X),A&&t&&o&&(y=Y),(A&&!t&&s||!A&&v&&!t&&s)&&(y=Z);var h=Ae(y);y&&(e||h[M])?(b(y),Ze()):b($)},[t]),u.useEffect(function(){(p===X&&!c||p===Y&&!o||p===Z&&!s)&&b($)},[c,o,s]),u.useEffect(function(){return function(){ae.current=!1,clearTimeout(ie.current)}},[]);var oe=u.useRef(!1);u.useEffect(function(){k&&(oe.current=!0),k!==void 0&&p===$&&((oe.current||k)&&(O==null||O(k)),oe.current=!0)},[k,p]);var ue=re;return W[M]&&j===z&&(ue=l({transition:"none"},ue)),[p,j,ue,k??t]}function gt(e){var t=e;pe(e)==="object"&&(t=e.transitionSupport);function n(a,o){return!!(a.motionName&&t&&o!==!1)}var r=u.forwardRef(function(a,o){var i=a.visible,c=i===void 0?!0:i,E=a.removeOnLeave,s=E===void 0?!0:E,f=a.forceRender,v=a.children,d=a.motionName,m=a.leavedClassName,S=a.eventProps,P=u.useContext(st),_=P.motion,R=n(a,_),I=u.useRef(),N=u.useRef();function w(){try{return I.current instanceof HTMLElement?I.current:ut(N.current)}catch{return null}}var U=ht(R,c,w,a),L=D(U,4),T=L[0],O=L[1],ne=L[2],K=L[3],k=u.useRef(K);K&&(k.current=!0);var V=u.useCallback(function(Q){I.current=Q,at(o,Q)},[o]),g,F=l(l({},S),{},{visible:c});if(!v)g=null;else if(T===$)K?g=v(l({},F),V):!s&&k.current&&m?g=v(l(l({},F),{},{className:m}),V):f||!s&&!m?g=v(l(l({},F),{},{style:{display:"none"}}),V):g=null;else{var p,b;O===M?b="prepare":qe(O)?b="active":O===z&&(b="start");var B=be(d,"".concat(T,"-").concat(b));g=v(l(l({},F),{},{className:Ie(be(d,T),(p={},C(p,B,B&&b),C(p,d,typeof d=="string"),p)),style:ne}),V)}if(u.isValidElement(g)&&it(g)){var G=g,re=G.ref;re||(g=u.cloneElement(g,{ref:V}))}return u.createElement(ct,{ref:N},g)});return r.displayName="CSSMotion",r}const At=gt(ze);var fe="add",ve="keep",le="remove",se="removed";function Ct(e){var t;return e&&pe(e)==="object"&&"key"in e?t=e:t={key:e},l(l({},t),{},{key:String(t.key)})}function de(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Ct)}function Rt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,a=t.length,o=de(e),i=de(t);o.forEach(function(s){for(var f=!1,v=r;v<a;v+=1){var d=i[v];if(d.key===s.key){r<v&&(n=n.concat(i.slice(r,v).map(function(m){return l(l({},m),{},{status:fe})})),r=v),n.push(l(l({},d),{},{status:ve})),r+=1,f=!0;break}}f||n.push(l(l({},s),{},{status:le}))}),r<a&&(n=n.concat(i.slice(r).map(function(s){return l(l({},s),{},{status:fe})})));var c={};n.forEach(function(s){var f=s.key;c[f]=(c[f]||0)+1});var E=Object.keys(c).filter(function(s){return c[s]>1});return E.forEach(function(s){n=n.filter(function(f){var v=f.key,d=f.status;return v!==s||d!==le}),n.forEach(function(f){f.key===s&&(f.status=ve)})}),n}var Tt=["component","children","onVisibleChanged","onAllRemoved"],Pt=["status"],Lt=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function kt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:At,n=function(r){xe(o,r);var a=Oe(o);function o(){var i;we(this,o);for(var c=arguments.length,E=new Array(c),s=0;s<c;s++)E[s]=arguments[s];return i=a.call.apply(a,[this].concat(E)),C(Re(i),"state",{keyEntities:[]}),C(Re(i),"removeKey",function(f){var v=i.state.keyEntities,d=v.map(function(m){return m.key!==f?m:l(l({},m),{},{status:se})});return i.setState({keyEntities:d}),d.filter(function(m){var S=m.status;return S!==se}).length}),i}return De(o,[{key:"render",value:function(){var c=this,E=this.state.keyEntities,s=this.props,f=s.component,v=s.children,d=s.onVisibleChanged,m=s.onAllRemoved,S=Te(s,Tt),P=f||u.Fragment,_={};return Lt.forEach(function(R){_[R]=S[R],delete S[R]}),delete S.keys,u.createElement(P,S,E.map(function(R,I){var N=R.status,w=Te(R,Pt),U=N===fe||N===ve;return u.createElement(t,rt({},_,{key:w.key,visible:U,eventProps:w,onVisibleChanged:function(T){if(d==null||d(T,{key:w.key}),!T){var O=c.removeKey(w.key);O===0&&m&&m()}}}),function(L,T){return v(l(l({},L),{},{index:I}),T)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,E){var s=c.keys,f=E.keyEntities,v=de(s),d=Rt(f,v);return{keyEntities:d.filter(function(m){var S=f.find(function(P){var _=P.key;return m.key===_});return!(S&&S.status===se&&m.status===le)})}}}]),o}(u.Component);return C(n,"defaultProps",{component:"div"}),n}kt(ze);const bt=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),o=a.width,i=a.height;if(o||i)return!0}}return!1},Be=u.createContext(null),xt=(e,t)=>{const n=u.useContext(Be),r=u.useMemo(()=>{if(!n)return"";const{compactDirection:a,isFirstItem:o,isLastItem:i}=n,c=a==="vertical"?"-vertical-":"-";return Ie({[`${e}-compact${c}item`]:!0,[`${e}-compact${c}first-item`]:o,[`${e}-compact${c}last-item`]:i,[`${e}-compact${c}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},Ot=e=>{let{children:t}=e;return u.createElement(Be.Provider,{value:null},t)};export{At as C,Ot as N,bt as a,ut as f,ot as i,xt as u,ce as w};
